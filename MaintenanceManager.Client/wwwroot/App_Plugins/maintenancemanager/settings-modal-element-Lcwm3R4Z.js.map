{"version":3,"file":"settings-modal-element-Lcwm3R4Z.js","sources":["../../../assets/src/settings/settings-modal-element.ts"],"sourcesContent":["import { customElement, html, state } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbModalBaseElement } from \"@umbraco-cms/backoffice/modal\";\r\nimport { SettingsModalData, SettingsModalValue } from \"./settings-modal-token\";\r\nimport MaintenanceContext, { MAINTENANCE_CONTEXT_TOKEN } from \"../contexts/context\";\r\nimport { MaintenanceModeSettings } from \"../api\";\r\n\r\n@customElement('settings-modal')\r\nexport class SettingsModalElement extends \r\n    UmbModalBaseElement<SettingsModalData, SettingsModalValue> \r\n{\r\n    _context?: MaintenanceContext;\r\n\r\n    @state()\r\n    settings? : MaintenanceModeSettings;\r\n\r\n    constructor() {\r\n        super();\r\n        this.consumeContext(MAINTENANCE_CONTEXT_TOKEN, (_context) => {\r\n            this._context=_context;\r\n            _context.getSettings();\r\n            this.observe(_context.settings,(_settings) => {\r\n                this.settings = _settings;\r\n            })\r\n        });\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    @state()\r\n    content: string = '';\r\n\r\n    #handleConfirm() {\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\t#handleCancel() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n    #updateTemplateName(e: Event) {\r\n        const value = (e.target as HTMLInputElement).value;\r\n        this._context?.updateTemplateName(value);\r\n    }\r\n\r\n    #updateUnfrozenUsers(e: Event) {\r\n        const value = (e.target as HTMLInputElement).value;\r\n        this._context?.updateUnfrozenUsers(value);\r\n    }\r\n\r\n//  \"allowBackOfficeUsersThrough\": true,\r\n//  \"templateName\": \"MaintenancePage\",\r\n//  \"unfrozenUsers\": \"\",\r\n//  \"viewModel\": {\r\n//  \"pageTitle\": \"Site Maintenance\",\r\n//  \"title\": \"Under Maintenance\",\r\n//  \"text\": \"The Website is currently undergoing maintenance and will be back shortly.\"\r\n\r\n\r\n    render() {\r\n        return html`\r\n            <umb-body-layout headline=\"Maintenance Mode Settings\">\r\n                <uui-box>\r\n                    <pre>${JSON.stringify(this.settings, null, 1)}</pre>\r\n                    <umb-property-layout \r\n                    alias=\"templateName\" \r\n                    label=\"Template\" \r\n                    description=\"Template to be used on maintenance page.\"\r\n                    orientation=\"vertical\">\r\n                        <div slot=\"editor\">\r\n                            <uui-input \r\n                            label=\"Template\" \r\n                            .value=${this.settings?.templateName}\r\n                            @input=${this.#updateTemplateName}></uui-input>\r\n                        </div>\r\n                    </umb-property-layout>\r\n                    <umb-property-layout \r\n                    alias=\"unfrozenUsers\" \r\n                    label=\"Unfrozren Users\" \r\n                    description=\"Users who can still edit when content is frozen.\"\r\n                    orientation=\"vertical\">\r\n                        <div slot=\"editor\">\r\n                            <uui-input \r\n                            label=\"Unfrozen users\" \r\n                            .value=${this.settings?.unfrozenUsers}\r\n                            @input=${this.#updateUnfrozenUsers}\r\n                            placeholder=\"Enter Usernames Here...\"></uui-input>\r\n                        </div>\r\n                    </umb-property-layout>\r\n                </uui-box>\r\n                <div slot=\"actions\">\r\n                        <uui-button id=\"cancel\" label=\"Cancel\" @click=\"${this.#handleCancel}\">Cancel</uui-button>\r\n                        <uui-button\r\n                            id=\"submit\"\r\n                            color='positive'\r\n                            look=\"primary\"\r\n                            label=\"Submit\"\r\n                            @click=${this.#handleConfirm}></uui-button>\r\n            </div>\r\n            </umb-body-layout>\r\n        `;\r\n    }\r\n    \r\n}\r\n\r\nexport default SettingsModalElement;"],"names":["_handleConfirm","handleConfirm_fn","_handleCancel","handleCancel_fn","_updateTemplateName","updateTemplateName_fn","_updateUnfrozenUsers","updateUnfrozenUsers_fn","SettingsModalElement","UmbModalBaseElement","__privateAdd","MAINTENANCE_CONTEXT_TOKEN","_context","_settings","html","_a","__privateMethod","_b","value","__decorateClass","state","customElement","SettingsModalElement$1"],"mappings":";;;;;;;;;;;;;;;;;;;;2DAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAOa,IAAAC,IAAN,cACHC,EACJ;AAAA,EAMI,cAAc;AACJ,aAiBVC,EAAA,MAAAV,CAAA,GAIHU,EAAA,MAAAR,CAAA,GAIGQ,EAAA,MAAAN,CAAA,GAKAM,EAAA,MAAAJ,CAAA,GAfkB,KAAA,UAAA,IAdT,KAAA,eAAeK,GAA2B,CAACC,MAAa;AACzD,WAAK,WAASA,GACdA,EAAS,YAAY,GACrB,KAAK,QAAQA,EAAS,UAAS,CAACC,MAAc;AAC1C,aAAK,WAAWA;AAAA,MAAA,CACnB;AAAA,IAAA,CACJ;AAAA,EACL;AAAA,EAEA,oBAA0B;AACtB,UAAM,kBAAkB;AAAA,EAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgCA,SAAS;;AACE,WAAAC;AAAA;AAAA;AAAA,2BAGY,KAAK,UAAU,KAAK,UAAU,MAAM,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAS5BC,IAAA,KAAK,aAAL,gBAAAA,EAAe,YAAY;AAAA,qCAC3BC,QAAKZ,GAAmBC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAWxBY,IAAA,KAAK,aAAL,gBAAAA,EAAe,aAAa;AAAA,qCAC5BD,QAAKV,GAAoBC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yEAMWS,QAAKd,GAAaC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMtDa,QAAKhB,GAAcC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,EAIpD;AAEJ;AAvEID,IAAA,oBAAA,QAAA;AAAAC,IAAc,WAAG;;AACnB,GAAAc,IAAA,KAAK,iBAAL,QAAAA,EAAmB;AACpB;AAEAb,IAAA,oBAAA,QAAA;AAAAC,IAAa,WAAG;;AACf,GAAAY,IAAA,KAAK,iBAAL,QAAAA,EAAmB;AACpB;AAEGX,IAAA,oBAAA,QAAA;AAAAC,IAAmB,SAAC,GAAU;;AACpB,QAAAa,IAAS,EAAE,OAA4B;AACxC,GAAAH,IAAA,KAAA,aAAA,QAAAA,EAAU,mBAAmBG;AACtC;AAEAZ,IAAA,oBAAA,QAAA;AAAAC,IAAoB,SAAC,GAAU;;AACrB,QAAAW,IAAS,EAAE,OAA4B;AACxC,GAAAH,IAAA,KAAA,aAAA,QAAAA,EAAU,oBAAoBG;AACvC;AApCAC,EAAA;AAAA,EADCC,EAAM;AAAA,GALEZ,EAMT,WAAA,YAAA,CAAA;AAkBAW,EAAA;AAAA,EADCC,EAAM;AAAA,GAvBEZ,EAwBT,WAAA,WAAA,CAAA;AAxBSA,IAANW,EAAA;AAAA,EADNE,EAAc,gBAAgB;AAAA,GAClBb,CAAA;AAmGb,MAAAc,IAAed;"}